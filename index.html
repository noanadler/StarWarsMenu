<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Star Wars DVD Menu</title>
    <link rel="stylesheet" href="css/bootstrap.min.css">
    <link rel="stylesheet" href="css/styles.css">
    <link href='https://fonts.googleapis.com/css?family=Oxygen:400,300,700' rel='stylesheet' type='text/css'>
    <link href='https://fonts.googleapis.com/css?family=Lora' rel='stylesheet' type='text/css'>


  </head>
<body>
  <header>
  	<h1>DVD Menu</h1>
  </header>
   	<div class="container col-xs-12">
   		<div id="first-movie" class="movie-tile">
   			<img src="images/The_Force_Awakens.jpg" alt="Poster of The_Force_Awakens" class="img-responsive jumbotron">
   			<p id="movie-title"></p>
   			<div class="stars-container">
   				<img src="images/star_filled.png" alt="star filled">
   				<img src="images/star_filled.png" alt="star filled">
   				<img src="images/star_filled.png" alt="star filled">
   				<img src="images/star_filled.png" alt="star filled">
   				<img src="images/star_empty.png" alt="star empty">
   			</div>
   			<p class="pre-price">$22.95</p>
   			<p>$15.00</p>
   			<hr>
   			<div class="btn-container">
   				<button type="button" class="btn add-to-btn wishlist-btn"><img class="btn-logo" src="images/heart.png" alt="heart"> Add to Wishlist</button>
   				<button type="button" class="btn add-to-btn cart-btn"><img class="btn-logo" src="images/cart.png" alt="cart"> Add to Cart</button>
   			</div>
   		</div>
   		<div id="targetElm"></div>
   	</div>
  	<script src="js/swapi.js"></script>
	<script>
		document.addEventListener("DOMContentLoaded", init, false);	
		function init() {
			//get all films
			swapiModule.getFilms(function(data) {
				var count = data.count;
				//create array of films titles
				var arr = [];
				for(j = 0; j < count; j++) {
					arr.push(data.results[j].title);
				}
				var elmnt = document.getElementById("first-movie");
				var target = document.getElementById("targetElm");
				elmnt.querySelector('p').innerText = arr[0];
				//clone elmnt and insert the title
				for(i = 1; i < arr.length; i++) {
					var cln = elmnt.cloneNode(true);
					var node = cln.querySelector('p');
					node.innerText = arr[i];
   					target.appendChild(cln);
				}		
			});	
		}
	</script>
 </body>
</html>
